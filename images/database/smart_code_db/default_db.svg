<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="602px" preserveAspectRatio="none" style="width:1083px;height:602px;background:#FFFFFF;" version="1.1" viewBox="0 0 1083 602" width="1083px" zoomAndPan="magnify"><defs><filter height="300%" id="fdrerk1mq0rkl" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="250" x="410" y="17.4023">SmartCode Default Database</text><!--MD5=[23d6aa4c89d9e17eb452590397eb8e67]
cluster auth_models--><polygon fill="#FFFFFF" filter="url(#fdrerk1mq0rkl)" points="340,388.1992,506,388.1992,513,410.6875,634,410.6875,634,591.1992,340,591.1992,340,388.1992" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="340" x2="513" y1="410.6875" y2="410.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="160" x="344" y="403.7344">authentication.models</text><!--MD5=[3c0432ebdc9f4a41d308744202071ec0]
cluster projects--><polygon fill="#FFFFFF" filter="url(#fdrerk1mq0rkl)" points="16,27.1992,136,27.1992,143,49.6875,226,49.6875,226,357.6992,16,357.6992,16,27.1992" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="143" y1="49.6875" y2="49.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="114" x="20" y="42.7344">projects.models</text><!--MD5=[23012f80dda58e76f146463b182ce884]
cluster subscriptions--><polygon fill="#FFFFFF" filter="url(#fdrerk1mq0rkl)" points="792,187.1992,952,187.1992,959,209.6875,1066,209.6875,1066,595.1992,792,595.1992,792,187.1992" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="792" x2="959" y1="209.6875" y2="209.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="154" x="796" y="202.7344">subscriptions.models</text><!--MD5=[bc8c8cdf86dd1655bb50a4ea0856f1ac]
cluster user_cards--><polygon fill="#FFFFFF" filter="url(#fdrerk1mq0rkl)" points="250,187.1992,388,187.1992,395,209.6875,456,209.6875,456,364.1992,250,364.1992,250,187.1992" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="250" x2="395" y1="209.6875" y2="209.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="132" x="254" y="202.7344">user_cards.models</text><!--MD5=[ab568dd7d5a90b4f4afab646aa2bdb23]
cluster user_devices--><polygon fill="#FFFFFF" filter="url(#fdrerk1mq0rkl)" points="480,200.1992,633,200.1992,640,222.6875,768,222.6875,768,351.1992,480,351.1992,480,200.1992" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="480" x2="640" y1="222.6875" y2="222.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="147" x="484" y="215.7344">user_devices.models</text><!--MD5=[3fd616f346a44cd59a91eb10b19e157c]
class User--><rect codeLine="7" fill="#FEFECE" filter="url(#fdrerk1mq0rkl)" height="151.6406" id="User" style="stroke:#A80036;stroke-width:1.5;" width="261" x="356.5" y="423.1992"/><ellipse cx="469.75" cy="439.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M473.3643,445.6992 L465.6445,445.6992 L465.6445,433.3062 L473.3643,433.3062 L473.3643,435.4644 L468.0933,435.4644 L468.0933,438.1372 L472.8662,438.1372 L472.8662,440.2954 L468.0933,440.2954 L468.0933,443.541 L473.3643,443.541 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="26" x="490.25" y="443.7344">User</text><line style="stroke:#A80036;stroke-width:1.5;" x1="357.5" x2="616.5" y1="455.1992" y2="455.1992"/><ellipse cx="367.5" cy="466.1992" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="376.5" y="469.834">id: INT&lt;PK&gt;</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="357.5" x2="616.5" y1="476.1543" y2="476.1543"/><ellipse cx="367.5" cy="487.1543" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="235" x="376.5" y="490.7891">email: VARCHAR&lt;unique, case_insensitive&gt;</text><ellipse cx="367.5" cy="500.1094" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="168" x="376.5" y="503.7441">password: VARCHAR&lt;argon2&gt;</text><ellipse cx="367.5" cy="513.0645" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="97" x="376.5" y="516.6992">is_staff: BOOLEAN</text><ellipse cx="367.5" cy="526.0195" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="128" x="376.5" y="529.6543">is_superuser: BOOLEAN</text><ellipse cx="367.5" cy="538.9746" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="376.5" y="542.6094">is_active: BOOLEAN</text><ellipse cx="367.5" cy="551.9297" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="135" x="376.5" y="555.5645">last_login_at: TIMESTAMP</text><ellipse cx="367.5" cy="564.8848" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="376.5" y="568.5195">created_at: TIMESTAMP</text><!--MD5=[79d378210367c0c6ec62ef762ddfbd1b]
class Project--><rect codeLine="21" fill="#FEFECE" filter="url(#fdrerk1mq0rkl)" height="112.7754" id="Project" style="stroke:#A80036;stroke-width:1.5;" width="178" x="32" y="228.6992"/><ellipse cx="96.75" cy="244.6992" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M100.3643,251.1992 L92.6445,251.1992 L92.6445,238.8062 L100.3643,238.8062 L100.3643,240.9644 L95.0933,240.9644 L95.0933,243.6372 L99.8662,243.6372 L99.8662,245.7954 L95.0933,245.7954 L95.0933,249.041 L100.3643,249.041 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="40" x="117.25" y="249.2344">Project</text><line style="stroke:#A80036;stroke-width:1.5;" x1="33" x2="209" y1="260.6992" y2="260.6992"/><ellipse cx="43" cy="271.6992" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="52" y="275.334">id: INT&lt;PK&gt;</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="33" x2="209" y1="281.6543" y2="281.6543"/><ellipse cx="43" cy="292.6543" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="52" y="296.2891">user: INT&lt;FK&gt;</text><ellipse cx="43" cy="305.6094" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="88" x="52" y="309.2441">name: VARCHAR</text><ellipse cx="43" cy="318.5645" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="152" x="52" y="322.1992">last_updated_at: TIMESTAMP</text><ellipse cx="43" cy="331.5195" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="52" y="335.1543">created_at: TIMESTAMP</text><!--MD5=[7d2824e9a52f2de6ab5bf04d0e0280d8]
class UML--><rect codeLine="29" fill="#FEFECE" filter="url(#fdrerk1mq0rkl)" height="99.8203" id="UML" style="stroke:#A80036;stroke-width:1.5;" width="119" x="61.5" y="62.1992"/><ellipse cx="104.85" cy="78.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M108.4643,84.6992 L100.7445,84.6992 L100.7445,72.3062 L108.4643,72.3062 L108.4643,74.4644 L103.1933,74.4644 L103.1933,77.1372 L107.9662,77.1372 L107.9662,79.2954 L103.1933,79.2954 L103.1933,82.541 L108.4643,82.541 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="24" x="125.15" y="82.7344">UML</text><line style="stroke:#A80036;stroke-width:1.5;" x1="62.5" x2="179.5" y1="94.1992" y2="94.1992"/><ellipse cx="72.5" cy="105.1992" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="81.5" y="108.834">id: INT&lt;PK&gt;</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="62.5" x2="179.5" y1="115.1543" y2="115.1543"/><ellipse cx="72.5" cy="126.1543" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="81.5" y="129.7891">project: INT&lt;FK&gt;</text><ellipse cx="72.5" cy="139.1094" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="81.5" y="142.7441">c4_type: ENUM</text><ellipse cx="72.5" cy="152.0645" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="77" x="81.5" y="155.6992">diagram: TEXT</text><!--MD5=[b3be63f686ea56a43222251ea576b753]
class Plan--><rect codeLine="41" fill="#FEFECE" filter="url(#fdrerk1mq0rkl)" height="159.6406" id="Plan" style="stroke:#A80036;stroke-width:1.5;" width="241" x="808.5" y="419.1992"/><ellipse cx="912.75" cy="435.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M916.3643,441.6992 L908.6445,441.6992 L908.6445,429.3062 L916.3643,429.3062 L916.3643,431.4644 L911.0933,431.4644 L911.0933,434.1372 L915.8662,434.1372 L915.8662,436.2954 L911.0933,436.2954 L911.0933,439.541 L916.3643,439.541 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="24" x="933.25" y="439.7344">Plan</text><line style="stroke:#A80036;stroke-width:1.5;" x1="809.5" x2="1048.5" y1="451.1992" y2="451.1992"/><ellipse cx="819.5" cy="462.1992" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="828.5" y="465.834">id: INT&lt;PK&gt;</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="809.5" x2="1048.5" y1="472.1543" y2="472.1543"/><ellipse cx="819.5" cy="483.1543" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="88" x="828.5" y="486.7891">name: VARCHAR</text><ellipse cx="819.5" cy="496.1094" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="63" x="828.5" y="499.7441">code: ENUM</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="120" x="828.5" y="512.6992">description: VARCHAR</text><ellipse cx="819.5" cy="522.0195" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="159" x="828.5" y="525.6543">stripe_price_token: VARCHAR</text><ellipse cx="819.5" cy="534.9746" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="152" x="828.5" y="538.6094">last_updated_at: TIMESTAMP</text><ellipse cx="819.5" cy="547.9297" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="828.5" y="551.5645">created_at: TIMESTAMP</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="809.5" x2="1048.5" y1="557.8848" y2="557.8848"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="229" x="814.5" y="572.5195">unique_together(code, stripe_price_token)</text><!--MD5=[545507b7baa8aade59e57dce916f0187]
class Subscription--><rect codeLine="53" fill="#FEFECE" filter="url(#fdrerk1mq0rkl)" height="125.7305" id="Subscription" style="stroke:#A80036;stroke-width:1.5;" width="178" x="824" y="222.1992"/><ellipse cx="873.75" cy="238.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M877.3643,244.6992 L869.6445,244.6992 L869.6445,232.3062 L877.3643,232.3062 L877.3643,234.4644 L872.0933,234.4644 L872.0933,237.1372 L876.8662,237.1372 L876.8662,239.2954 L872.0933,239.2954 L872.0933,242.541 L877.3643,242.541 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="894.25" y="242.7344">Subscription</text><line style="stroke:#A80036;stroke-width:1.5;" x1="825" x2="1001" y1="254.1992" y2="254.1992"/><ellipse cx="835" cy="265.1992" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="844" y="268.834">id: INT&lt;PK&gt;</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="825" x2="1001" y1="275.1543" y2="275.1543"/><ellipse cx="835" cy="286.1543" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="844" y="289.7891">user: INT&lt;FK, unique&gt;</text><ellipse cx="835" cy="299.1094" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="78" x="844" y="302.7441">plan: INT&lt;FK&gt;</text><ellipse cx="835" cy="312.0645" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="126" x="844" y="315.6992">stripe_token: VARCHAR</text><ellipse cx="835" cy="325.0195" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="152" x="844" y="328.6543">last_updated_at: TIMESTAMP</text><ellipse cx="835" cy="337.9746" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="844" y="341.6094">created_at: TIMESTAMP</text><!--MD5=[5e305716458bbdabbd2d7f572ed2bae2]
class Card--><rect codeLine="68" fill="#FEFECE" filter="url(#fdrerk1mq0rkl)" height="125.7305" id="Card" style="stroke:#A80036;stroke-width:1.5;" width="173" x="266.5" y="222.1992"/><ellipse cx="334.75" cy="238.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M338.3643,244.6992 L330.6445,244.6992 L330.6445,232.3062 L338.3643,232.3062 L338.3643,234.4644 L333.0933,234.4644 L333.0933,237.1372 L337.8662,237.1372 L337.8662,239.2954 L333.0933,239.2954 L333.0933,242.541 L338.3643,242.541 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="28" x="355.25" y="242.7344">Card</text><line style="stroke:#A80036;stroke-width:1.5;" x1="267.5" x2="438.5" y1="254.1992" y2="254.1992"/><ellipse cx="277.5" cy="265.1992" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="286.5" y="268.834">id: INT&lt;PK&gt;</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="267.5" x2="438.5" y1="275.1543" y2="275.1543"/><ellipse cx="277.5" cy="286.1543" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="286.5" y="289.7891">user: INT&lt;FK&gt;</text><ellipse cx="277.5" cy="299.1094" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="126" x="286.5" y="302.7441">stripe_token: VARCHAR</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="88" x="286.5" y="315.6992">name: VARCHAR</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="147" x="286.5" y="328.6543">last_numbers: VARCHAR(4)</text><ellipse cx="277.5" cy="337.9746" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="123" x="286.5" y="341.6094">created_at: TIMESTAMP</text><!--MD5=[e70aa1116824befbc741e231091cbc32]
class PhoneDevice--><rect codeLine="81" fill="#FEFECE" filter="url(#fdrerk1mq0rkl)" height="99.8203" id="PhoneDevice" style="stroke:#A80036;stroke-width:1.5;" width="256" x="496" y="235.1992"/><ellipse cx="583.25" cy="251.1992" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M586.8643,257.6992 L579.1445,257.6992 L579.1445,245.3062 L586.8643,245.3062 L586.8643,247.4644 L581.5933,247.4644 L581.5933,250.1372 L586.3662,250.1372 L586.3662,252.2954 L581.5933,252.2954 L581.5933,255.541 L586.8643,255.541 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="73" x="603.75" y="255.7344">PhoneDevice</text><line style="stroke:#A80036;stroke-width:1.5;" x1="497" x2="751" y1="267.1992" y2="267.1992"/><ellipse cx="507" cy="278.1992" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="516" y="281.834">id: INT&lt;PK&gt;</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="497" x2="751" y1="288.1543" y2="288.1543"/><ellipse cx="507" cy="299.1543" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="516" y="302.7891">user: INT&lt;FK, unique&gt;</text><ellipse cx="507" cy="312.1094" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="230" x="516" y="315.7441">phone_number: VARCHAR&lt;unique=True&gt;</text><ellipse cx="507" cy="325.0645" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="116" x="516" y="328.6992">secret_key: VARCHAR</text><!--MD5=[ad918e2a314a5962d3883e46ec720638]
link UML to Project--><path codeLine="36" d="M121,170.2392 C121,170.2392 121,220.5792 121,220.5792 " fill="none" id="UML-Project" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="125" x2="117" y1="224.5792" y2="224.5792"/><line style="stroke:#A80036;stroke-width:1.0;" x1="125" x2="117" y1="221.5792" y2="221.5792"/><line style="stroke:#A80036;stroke-width:1.0;" x1="121" x2="121" y1="220.5792" y2="228.5792"/><line style="stroke:#A80036;stroke-width:1.0;" x1="121" x2="113" y1="170.2392" y2="162.2392"/><line style="stroke:#A80036;stroke-width:1.0;" x1="121" x2="129" y1="170.2392" y2="162.2392"/><line style="stroke:#A80036;stroke-width:1.0;" x1="121" x2="121" y1="170.2392" y2="162.2392"/><!--MD5=[56ef3d652d83978118f0422c3b857568]
link Project to User--><path codeLine="37" d="M121,349.7092 C121,349.7092 121,499.1992 121,499.1992 C121,499.1992 348.42,499.1992 348.42,499.1992 " fill="none" id="Project-User" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="352.42" x2="352.42" y1="495.1992" y2="503.1992"/><line style="stroke:#A80036;stroke-width:1.0;" x1="349.42" x2="349.42" y1="495.1992" y2="503.1992"/><line style="stroke:#A80036;stroke-width:1.0;" x1="348.42" x2="356.42" y1="499.1992" y2="499.1992"/><line style="stroke:#A80036;stroke-width:1.0;" x1="121" x2="115" y1="349.7092" y2="341.7092"/><line style="stroke:#A80036;stroke-width:1.0;" x1="121" x2="127" y1="349.7092" y2="341.7092"/><line style="stroke:#A80036;stroke-width:1.0;" x1="121" x2="121" y1="349.7092" y2="341.7092"/><ellipse cx="121" cy="355.7092" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.0;fill:none;"/><!--MD5=[6cf059ef5f0d8d7e9328821cb2b2276d]
link Subscription to Plan--><path codeLine="63" d="M913,356.2492 C913,356.2492 913,411.0992 913,411.0992 " fill="none" id="Subscription-Plan" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="917" x2="909" y1="415.0992" y2="415.0992"/><line style="stroke:#A80036;stroke-width:1.0;" x1="917" x2="909" y1="412.0992" y2="412.0992"/><line style="stroke:#A80036;stroke-width:1.0;" x1="913" x2="913" y1="411.0992" y2="419.0992"/><line style="stroke:#A80036;stroke-width:1.0;" x1="913" x2="907" y1="356.2492" y2="348.2492"/><line style="stroke:#A80036;stroke-width:1.0;" x1="913" x2="919" y1="356.2492" y2="348.2492"/><line style="stroke:#A80036;stroke-width:1.0;" x1="913" x2="913" y1="356.2492" y2="348.2492"/><line style="stroke:#A80036;stroke-width:1.0;" x1="909" x2="917" y1="358.2492" y2="358.2492"/><!--MD5=[2b6734a13f616e85bb03cc792e5ea21d]
link Subscription to User--><path codeLine="64" d="M815.84,342.1992 C815.84,342.1992 577,342.1992 577,342.1992 C577,342.1992 577,414.9992 577,414.9992 " fill="none" id="Subscription-User" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="581" x2="573" y1="418.9992" y2="418.9992"/><line style="stroke:#A80036;stroke-width:1.0;" x1="581" x2="573" y1="415.9992" y2="415.9992"/><line style="stroke:#A80036;stroke-width:1.0;" x1="577" x2="577" y1="414.9992" y2="422.9992"/><line style="stroke:#A80036;stroke-width:1.0;" x1="812.84" x2="823.84" y1="342.1992" y2="342.1992"/><ellipse cx="812.84" cy="342.1992" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.0;fill:none;"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="819.84" x2="819.84" y1="338.1992" y2="346.1992"/><!--MD5=[3dd6b676413a88c144e7b32dcd192cd1]
link Card to User--><path codeLine="77" d="M398,356.2492 C398,356.2492 398,414.9792 398,414.9792 " fill="none" id="Card-User" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="402" x2="394" y1="418.9792" y2="418.9792"/><line style="stroke:#A80036;stroke-width:1.0;" x1="402" x2="394" y1="415.9792" y2="415.9792"/><line style="stroke:#A80036;stroke-width:1.0;" x1="398" x2="398" y1="414.9792" y2="422.9792"/><line style="stroke:#A80036;stroke-width:1.0;" x1="398" x2="392" y1="356.2492" y2="348.2492"/><line style="stroke:#A80036;stroke-width:1.0;" x1="398" x2="404" y1="356.2492" y2="348.2492"/><line style="stroke:#A80036;stroke-width:1.0;" x1="398" x2="398" y1="356.2492" y2="348.2492"/><ellipse cx="398" cy="362.2492" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.0;fill:none;"/><!--MD5=[af72793f442ef6ee614c8392eb46bad3]
link PhoneDevice to User--><path codeLine="89" d="M536.5,343.3692 C536.5,343.3692 536.5,414.9392 536.5,414.9392 " fill="none" id="PhoneDevice-User" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="540.5" x2="532.5" y1="418.9392" y2="418.9392"/><line style="stroke:#A80036;stroke-width:1.0;" x1="540.5" x2="532.5" y1="415.9392" y2="415.9392"/><line style="stroke:#A80036;stroke-width:1.0;" x1="536.5" x2="536.5" y1="414.9392" y2="422.9392"/><line style="stroke:#A80036;stroke-width:1.0;" x1="536.5" x2="536.5" y1="346.3692" y2="335.3692"/><ellipse cx="536.5" cy="346.3692" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.0;fill:none;"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="532.5" x2="540.5" y1="339.3692" y2="339.3692"/><!--MD5=[5435566f0a934664e5ceff11d5f11c0f]
@startuml default_db

title "SmartCode Default Database"

skinparam linetype ortho

package "authentication.models" as auth_models{
    entity User{
        *id: INT<PK>
        ..
        *email: VARCHAR<unique, case_insensitive>
        *password: VARCHAR<argon2>
        *is_staff: BOOLEAN
        *is_superuser: BOOLEAN
        *is_active: BOOLEAN
        *last_login_at: TIMESTAMP
        *created_at: TIMESTAMP
    }
}

package "projects.models" as projects{
    entity Project{
        * id: INT<PK>
        ..
        * user: INT<FK>
        * name: VARCHAR
        * last_updated_at: TIMESTAMP
        * created_at: TIMESTAMP
    }
    entity UML{
        * id: INT<PK>
        ..
        * project: INT<FK>
        * c4_type: ENUM
        * diagram: TEXT
    }
    UML }- -|| Project
    Project }o- -|| User
}

package "subscriptions.models" as subscriptions{
    entity Plan{
        *id: INT<PK>
        ..
        * name: VARCHAR
        * code: ENUM
        description: VARCHAR
        * stripe_price_token: VARCHAR
        * last_updated_at: TIMESTAMP
        * created_at: TIMESTAMP
        ..
        unique_together(code, stripe_price_token)
    }
    entity Subscription{
        *id: INT<PK>
        ..
        * user: INT<FK, unique>
        * plan: INT<FK>
        * stripe_token: VARCHAR
        * last_updated_at: TIMESTAMP
        * created_at: TIMESTAMP
    }

    Subscription }|- -|| Plan
    Subscription |o- -|| User
}

package "user_cards.models" as user_cards{
    entity Card{
        * id: INT<PK>
        ..
        * user: INT<FK>
        * stripe_token: VARCHAR
        name: VARCHAR
        last_numbers: VARCHAR(4)
        * created_at: TIMESTAMP
    }
    Card }o- -|| User
}

package "user_devices.models" as user_devices{
    entity PhoneDevice{
        * id: INT<PK>
        ..
        * user: INT<FK, unique>
        * phone_number: VARCHAR<unique=True>
        * secret_key: VARCHAR
    }

    PhoneDevice |o- -|| User
}

@enduml

PlantUML version 1.2021.7(Sun May 23 15:40:07 EEST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>