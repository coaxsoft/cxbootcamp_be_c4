<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1414px" preserveAspectRatio="none" style="width:1660px;height:1414px;background:#FFFFFF;" version="1.1" viewBox="0 0 1660 1414" width="1660px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="194" x="726.75" y="17.4023">SmartCode Containers</text><!--MD5=[3a46192ac4c9c59f028a21206f9a1da6]
cluster boundary--><rect fill="#FFFFFF" height="1184" style="stroke:#444444;stroke-width:1.0;stroke-dasharray:7.0,7.0;" width="1226" x="7" y="224.1992"/><text fill="#FFFFFF" font-family="sans-serif" font-size="6" font-style="italic" lengthAdjust="spacing" textLength="34" x="603" y="232">«boundary»</text><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="151" x="544.5" y="251.668">SmartCode System</text><text fill="#444444" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="596" y="266.6445">[System]</text><!--MD5=[81656095152cfbc57ef8a29be5eab219]
cluster api_boundary--><rect fill="#FFFFFF" height="303" style="stroke:#444444;stroke-width:1.0;stroke-dasharray:7.0,7.0;" width="635" x="566" y="579.1992"/><text fill="#FFFFFF" font-family="sans-serif" font-size="6" font-style="italic" lengthAdjust="spacing" textLength="34" x="866.5" y="587">«boundary»</text><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="27" x="870" y="606.668">API</text><text fill="#444444" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="63" x="852" y="621.6445">[Container]</text><!--MD5=[f67f38bab7725d5d65f66523f8dc33f3]
cluster ml--><rect fill="#FFFFFF" height="546" style="stroke:#444444;stroke-width:1.0;stroke-dasharray:7.0,7.0;" width="465" x="31" y="610.1992"/><text fill="#FFFFFF" font-family="sans-serif" font-size="6" font-style="italic" lengthAdjust="spacing" textLength="34" x="246.5" y="618">«boundary»</text><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="107" x="210" y="637.668">ML Boundary</text><text fill="#444444" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="63" x="232" y="652.6445">[Container]</text><!--MD5=[08af8945a84acfe1eabc0963aa87c412]
entity web--><rect fill="#438DD5" height="164.5742" style="stroke:#3C7FC0;stroke-width:1.5;" width="172" x="452" y="330.1992"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65" x="505.5" y="351.8008">«container»</text><image height="48" width="48" x="514" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAADHUlEQVR4Xu2YT4oVMRDG5245gBd4B5gLzAE8gK5ciTsXs3D5dq7EneDGhcgThAEZGBhQVFAEof3oH68oq5J0Rtt/0OHj0Z1UJV/qX9LvpNx5+U/hJHf9XWyElrARWsJ/Tuju48vzZ9f6PX34Jo96SMCE82gHo4R2D15//PJtcu1w9blKS50a8pKX77/euvcqS1YxSog17j+9ErOzRxf7F+9YTDbwYtavB4lJWCp6fX7xKc9ZxRAhzZsn1aZhSb+96lfyXvLJ4YP6B400ROj2/q1mrEaDLIRTBAyTZVCXwfJQxhAhUenMCKcpuc8gxdZ+MlYgZCGshzxa5jBfmRA2128eIj7kKcK5Grwd9YwhQmxR+RL6QwbpoSNWrREZQ4QEzShj8Ezm40f6sRDWgpOWt7RaP8sEqmKoeItNWlLRr5DnrGKBkCyBI6xpARmDJFdayVqCdi/wbIVAYtK1+q4H9YQSldEkJCo+fYhZEps6qSWzFoAuQUMASd1mE8tOPNUJWWnxe9IWIYHNbFLZRuwFixKSgCogFfOXprKzJcc+qBBCJ58AZqTJBbh4eKdYrSKQEQ7lW9NirWohjYT85gLwFA2uMkm4AugVO2VhDzv48lAkxJ5aRRln2Y45E0Iz3U6pNN3suJsRYls3IlQ1tulmr0VCHZcxRPORbp3T7DL6+y4rx73ldIuEirtRBOmfCGrLeT+PBXXoBxVC5Vg8WNhoWcElkrxbSXv/Oh2jJ6S9HS/ZWaBOqMwOshqtSS2NmZfOrAUojHiKvUndl9lWjJYOIUAp84ESjg7x3s0nBtCredyToGmHHSpggZABf/mzabAd1j1cgerY5AK5HD+7WFIGk1UEOxb4cAvXjzxtFUOEWkUMTuGClq+q61/QOnfQcIX1VhxRzxgi9IuXfAycLVfFCoTsrtIqLesT6syIp/ofiv39BAwRIsvCuW0nAP2SIagP6SJFf/VEyxgiVNwnzm7+5GidAOa+/Y9/NrTCK2OUkAyAU6y1rsan6e8YVcVB85RxQuBs/hxTAi8uQOU8/31/WP0xbISWsBFawkZoCd8BxQnrYvxstngAAAAASUVORK5CYII=" y="354.332"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="125" x="475.5" y="417.8008">Web Client App</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="50" x="513" y="432.7773">[ReactJS]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="540" y="448.8438"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="466" y="465.332">The FE application of</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="500" y="481.8203">SmartCode</text><!--MD5=[cd298f09fb4b3676b6942829b3e822bf]
entity background--><rect fill="#438DD5" height="100.0859" style="stroke:#3C7FC0;stroke-width:1.5;" width="204" x="1013" y="1003.1992"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65" x="1082.5" y="1024.8008">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="184" x="1023" y="1042.8008">Background Processor</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="99" x="1065.5" y="1057.7773">[Celery / NodeJS]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="1117" y="1073.8438"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="1040" y="1090.332">Background processor</text><!--MD5=[7468467f3b6b392f1d176d828c753b77]
entity db--><path d="M515,984.6992 C515,974.6992 622,974.6992 622,974.6992 C622,974.6992 729,974.6992 729,984.6992 L729,1121.7852 C729,1131.7852 622,1131.7852 622,1131.7852 C622,1131.7852 515,1131.7852 515,1121.7852 L515,984.6992 " fill="#438DD5" style="stroke:#3C7FC0;stroke-width:1.5;"/><path d="M515,984.6992 C515,994.6992 622,994.6992 622,994.6992 C622,994.6992 729,994.6992 729,984.6992 " fill="none" style="stroke:#3C7FC0;stroke-width:1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65" x="589.5" y="1010.3008">«container»</text><image height="48" width="48" x="598" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAADAklEQVR4Xu2XQWoVQRCGc7c+wLtADuAFPIAHMCtXwZ0LFy6zcyXZCW5ciEQQAhIICIoKBkEYP/rHpujqqp4XRwz4Hj/DvHrV3V9X1VTPOyoP39wpHXnTv9UBaKYD0Ez/B9Du0dv7zy5Pnl9J3GPxbkPNgR6cfXh1+e3rzU+0LMvV5x98PT2/vvfkPb+y3sX19+X3Bx8cuMF49vqThD8WrpD5+TtlQGyLeZkIpuPH72Thhq9PX37Uwt0y/AqiNoCbnY2vDHlx8cUvZJUBMZ5IePuaX6HEAe7ODhCb9P5NIRAbTXajXHi7lQLs3fKxIRD7U5V4sRIZ8fahYGJv1sJwcu09pTFQPoZM+VxEoqqgVwk2YYmeuzEQsUkyTc1GwRuKDXQ5SnZ7G6BkOi8iwWwMaSHJw783kApIzUmNJ0ofk1CIrTO1oCaTlwgoKVuqQX2PBxuRDl+2kvoCyWIIPq2MfAatxkAlrjvNrnuAiFPUIJQXtU07mzqt95dCoKjTW6BmIRje0xZKdO8VAlEZw0bsgUqwho1Ec1DxeeemEEjp8PZhSQ6BbCqbQ56vkgCVYBkPmjzGrSXqRk3Su1llQMMy8jHHx8dMIukKEkUGDffDMrDKgIbPp7qLteCTLENIGMIV7ml4Sg4URbg7d6MGIVFJ+LfXOu/QKQMq9az2x5b2KjsZHDahbhI0bA1eE6Co6ek00DI4JBEqFRpnhUdHmy/NpglQMU9KEwSi1EpgeZ8mFRB1pj0s9fjjGvnPgbog0TAh2NX/FZSFfkrqGv92+jJKb9bReVzWAJVaBFqPq6ZTYHSmKgYREKxL/a+iwLABX5RWq4B29e1YENwzqbDUZlipEXupNTMqr7OmVUBe5Eu5IEisZPPSSS3R2yPdEqhTAhSdKpH+LlDyohdpG6DT4H/I8NUg1zZAVJI/9cq6Pt5pGyD/TiIl/SnSNkBRrSQdPNI2QKWeJzZrVA8xG+Yx12ZApfZAQsJVfXnfZElbApX6CkU97Zsmq42B/lwHoJkOQDPdOaBfAMnk2ReBiGYAAAAASUVORK5CYII=" y="1012.832"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="109" x="567.5" y="1076.3008">Rel. Database</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="72" x="586" y="1091.2773">[PostgreSQL]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="624" y="1107.3438"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="529" y="1123.832">Relational database storage</text><!--MD5=[de5dc476b5cd49b5a92d294ad2af7d70]
entity redis--><path d="M996,1228.1992 C996,1218.1992 1087,1218.1992 1087,1218.1992 C1087,1218.1992 1178,1218.1992 1178,1228.1992 L1178,1381.7734 C1178,1391.7734 1087,1391.7734 1087,1391.7734 C1087,1391.7734 996,1391.7734 996,1381.7734 L996,1228.1992 " fill="#438DD5" style="stroke:#3C7FC0;stroke-width:1.5;"/><path d="M996,1228.1992 C996,1238.1992 1087,1238.1992 1087,1238.1992 C1087,1238.1992 1178,1238.1992 1178,1228.1992 " fill="none" style="stroke:#3C7FC0;stroke-width:1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65" x="1054.5" y="1253.8008">«container»</text><image height="48" width="48" x="1063" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACZElEQVR4Xu2VT2oVQRCH393mALmAB/ACHiAHSFauxJ2LLFxml1VwF3DjQuQFAoHwIBBQkoAiCJ2PKSzKqurpmXkjBpnmt3h/aqq+rvr19KY7+vystIk//VutQC2tQC2tQC2tQC39j0Cv3l8jPrx4e/ny3VUMmKQFgI7PduX3ErJ9tC/Qmw+3H68fd99+ChAf4Ith4zUB6OD1FxoAASURA7L/bm+/23kRTCQ/nn766iKHNRbo8PRG56KLflBYArQq0OfbexcJ2cjO5UBxTycXd66GrBgJOuVtzMOPXzyu6F1vO8Lcg6IciAfIQs9tFmrzCyMQkdH+qzH6AQha5WxOZjHcZCDdX80EaikCaAkbILg2F4LhkxhZ04CiYygZU7jpcNxiKpweLQVZusmuBtT1xfQw20Rujl0/HZpkDa4ZnJk0QyynqgKJGAr7dklZbHrgpUxJOx1ZrsfRf6IcCA77sDg0rWFNI61yMSXQkzw1gCgHElPH1y5f4xRKT5bO1512O8Sa/YeAdLmDlvrULreTeMTK1FNGyTggzGRfKmkZF5MOUToXi4pyIBHeTAfhDhoEFOBH28X0NEQPROVApNaSaerSzzE9aPoutsu5eIGrI22+VDrub37g4gRLOGIzrw77pnaOThuQLnvExHD239rsciDGZB8uoecDBw1c+y5OI+dcHWkn3Bxl3xqG1Sz0X7k6SJo62jnDHoJu3NVRUwNINOzoZtjwxec0CkiVzrFUro7yp69HahqQKPWpXeLrqSiiOUCi9OoYaZQBzQdSQRCvjtlaAGhZrUAtrUAtrUAtrUAtPTugJ/M0z/vqrT6vAAAAAElFTkSuQmCC" y="1256.332"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="45" x="1064.5" y="1319.8008">Redis</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40" x="1067" y="1334.7773">[Redis]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="1089" y="1350.8438"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="1030" y="1367.332">Key-value DB for</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="1006" y="1383.8203">background processing</text><!--MD5=[ded6a69210fbbc7961dee7b773232267]
entity es--><path d="M764.5,1000.1992 C764.5,990.1992 871,990.1992 871,990.1992 C871,990.1992 977.5,990.1992 977.5,1000.1992 L977.5,1105.7734 C977.5,1115.7734 871,1115.7734 871,1115.7734 C871,1115.7734 764.5,1115.7734 764.5,1105.7734 L764.5,1000.1992 " fill="#438DD5" style="stroke:#3C7FC0;stroke-width:1.5;"/><path d="M764.5,1000.1992 C764.5,1010.1992 871,1010.1992 871,1010.1992 C871,1010.1992 977.5,1010.1992 977.5,1000.1992 " fill="none" style="stroke:#3C7FC0;stroke-width:1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65" x="838.5" y="1025.8008">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="107" x="817.5" y="1043.8008">ElasticSearch</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="82" x="830" y="1058.7773">[ElasticSearch]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="873" y="1074.8438"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="778.5" y="1091.332">Document-based database</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="806.5" y="1107.8203">with search engine</text><!--MD5=[e2307af040e3f87d22824e7603ca28ec]
entity api--><rect fill="#438DD5" height="100.0859" style="stroke:#3C7FC0;stroke-width:1.5;" width="124" x="590" y="725.6992"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65" x="619.5" y="747.3008">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="27" x="638.5" y="765.3008">API</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="104" x="600" y="780.2773">[Django / NodeJS]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="654" y="796.3438"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="609" y="812.832">The REST API</text><!--MD5=[57a5b41ed6b3ba96fe9b4a740eb3fdc7]
entity docs--><rect fill="#438DD5" height="164.5742" style="stroke:#3C7FC0;stroke-width:1.5;" width="168" x="749" y="693.1992"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65" x="800.5" y="714.8008">«container»</text><image height="48" width="48" x="809" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAABBUlEQVR4Xu2YMQrCQBREc7ccwAt4DQ/gAews7S0svYCtYCuiVUCsLEQtRBD0w2clP2Oyu7CSLeYxha7JzCtli3KyzSoFHvUbCvnSJTSY7lb76+3xeidCqqRQanHrm1YheS2hSh2p7XBqFdpU92ZTOqQcFz1CzY7U4GKEEP7a9mQ42KOhkAN7NBRyYI+GQg7s0VDIgT0aCjmwR0MhB/Zo4oSGs4P8c5DIh59PhoOLmgih+fpcP5Sv+GQ4uKgJEhotqtPlWT9R5HC8PDZPw8DFCKF/gIsUsuAihSy4SCELLlLIgosUsuAihSy4SCELLlLIgoseoeyu9LK79CxzuxbuKxTyJTuhD9JOr/iSXXlgAAAAAElFTkSuQmCC" y="717.332"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="71" x="797.5" y="780.8008">API docs</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="57" x="804.5" y="795.7773">[OpenAPI]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="835" y="811.8438"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="775" y="828.332">Swagger / Redoc</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="759" y="844.8203">documentation to API</text><!--MD5=[3ac6049eccb1532e2bc581365255c48d]
entity admin_site--><rect fill="#438DD5" height="116.5742" style="stroke:#3C7FC0;stroke-width:1.5;" width="206" x="952" y="717.1992"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65" x="1022.5" y="738.8008">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="89" x="1010.5" y="756.8008">Admin Site</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="186" x="962" y="771.7773">[Django Admin / NodeJS Admin]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="1057" y="787.8438"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="996" y="804.332">Admin Site of the</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="1017" y="820.8203">application</text><!--MD5=[879636421767c9f67d34828a9951ac8f]
entity ml_api--><rect fill="#438DD5" height="100.0859" style="stroke:#3C7FC0;stroke-width:1.5;" width="139" x="104.5" y="725.6992"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65" x="141.5" y="747.3008">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="56" x="146" y="765.3008">ML API</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="104" x="122" y="780.2773">[FastAPI / NodeJS]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="176" y="796.3438"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="118.5" y="812.832">API to ML Service</text><!--MD5=[d88ca68acb5278979f278ebfe6f90afc]
entity ml_background--><rect fill="#438DD5" height="118.9297" style="stroke:#3C7FC0;stroke-width:1.5;" width="178" x="295" y="716.1992"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65" x="351.5" y="737.8008">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="128" x="317.5" y="755.8008">ML Background</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="80" x="344" y="774.6445">Processor</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="99" x="334.5" y="789.6211">[Celery / NodeJS]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="386" y="805.6875"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="309" y="822.1758">Background processor</text><!--MD5=[75837b3945849d3a0fc7d0f208a8152a]
entity ml_redis--><path d="M298,976.1992 C298,966.1992 389,966.1992 389,966.1992 C389,966.1992 480,966.1992 480,976.1992 L480,1129.7734 C480,1139.7734 389,1139.7734 389,1139.7734 C389,1139.7734 298,1139.7734 298,1129.7734 L298,976.1992 " fill="#438DD5" style="stroke:#3C7FC0;stroke-width:1.5;"/><path d="M298,976.1992 C298,986.1992 389,986.1992 389,986.1992 C389,986.1992 480,986.1992 480,976.1992 " fill="none" style="stroke:#3C7FC0;stroke-width:1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65" x="356.5" y="1001.8008">«container»</text><image height="48" width="48" x="365" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACZElEQVR4Xu2VT2oVQRCH393mALmAB/ACHiAHSFauxJ2LLFxml1VwF3DjQuQFAoHwIBBQkoAiCJ2PKSzKqurpmXkjBpnmt3h/aqq+rvr19KY7+vystIk//VutQC2tQC2tQC2tQC39j0Cv3l8jPrx4e/ny3VUMmKQFgI7PduX3ErJ9tC/Qmw+3H68fd99+ChAf4Ith4zUB6OD1FxoAASURA7L/bm+/23kRTCQ/nn766iKHNRbo8PRG56KLflBYArQq0OfbexcJ2cjO5UBxTycXd66GrBgJOuVtzMOPXzyu6F1vO8Lcg6IciAfIQs9tFmrzCyMQkdH+qzH6AQha5WxOZjHcZCDdX80EaikCaAkbILg2F4LhkxhZ04CiYygZU7jpcNxiKpweLQVZusmuBtT1xfQw20Rujl0/HZpkDa4ZnJk0QyynqgKJGAr7dklZbHrgpUxJOx1ZrsfRf6IcCA77sDg0rWFNI61yMSXQkzw1gCgHElPH1y5f4xRKT5bO1512O8Sa/YeAdLmDlvrULreTeMTK1FNGyTggzGRfKmkZF5MOUToXi4pyIBHeTAfhDhoEFOBH28X0NEQPROVApNaSaerSzzE9aPoutsu5eIGrI22+VDrub37g4gRLOGIzrw77pnaOThuQLnvExHD239rsciDGZB8uoecDBw1c+y5OI+dcHWkn3Bxl3xqG1Sz0X7k6SJo62jnDHoJu3NVRUwNINOzoZtjwxec0CkiVzrFUro7yp69HahqQKPWpXeLrqSiiOUCi9OoYaZQBzQdSQRCvjtlaAGhZrUAtrUAtrUAtrUAtPTugJ/M0z/vqrT6vAAAAAElFTkSuQmCC" y="1004.332"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="45" x="366.5" y="1067.8008">Redis</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="40" x="369" y="1082.7773">[Redis]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="391" y="1098.8438"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="332" y="1115.332">Key-value DB for</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="308" y="1131.8203">background processing</text><!--MD5=[c46dd39f94482ed19a132bb411edc1b7]
entity ml_mongo--><path d="M47,992.1992 C47,982.1992 155,982.1992 155,982.1992 C155,982.1992 263,982.1992 263,992.1992 L263,1114.2617 C263,1124.2617 155,1124.2617 155,1124.2617 C155,1124.2617 47,1124.2617 47,1114.2617 L47,992.1992 " fill="#438DD5" style="stroke:#3C7FC0;stroke-width:1.5;"/><path d="M47,992.1992 C47,1002.1992 155,1002.1992 155,1002.1992 C155,1002.1992 263,1002.1992 263,992.1992 " fill="none" style="stroke:#3C7FC0;stroke-width:1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65" x="122.5" y="1017.8008">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="80" x="115" y="1035.8008">MongoDB</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="62" x="124" y="1050.7773">[MongoDB]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="157" y="1066.8438"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="188" x="61" y="1083.332">Document-value DB for any</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="64.5" y="1099.8203">information needed to ML</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="131.5" y="1116.3086">service</text><!--MD5=[8fc3522a43f8c7199df5e09e5bb0188e]
entity user--><rect fill="#08427B" height="133.9531" style="stroke:#073B6F;stroke-width:1.5;" width="182" x="447" y="28.1992"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="52" x="512" y="49.8008">«person»</text><image height="48" width="48" x="514" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=" y="52.332"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="37" x="519.5" y="115.8008">User</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="540" y="132.7109"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158" x="461" y="149.1992">The user of SmartCode</text><!--MD5=[79a439086b036a57b90a01d7b2f8bbd1]
entity admin--><rect fill="#08427B" height="150.4414" style="stroke:#073B6F;stroke-width:1.5;" width="153" x="1249.5" y="337.6992"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="52" x="1300" y="359.3008">«person»</text><image height="48" width="48" x="1302" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=" y="361.832"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="55" x="1298.5" y="425.3008">Admin</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="1328" y="442.2109"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="1263.5" y="458.6992">The admin user of</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="1288" y="475.1875">SmartCode</text><!--MD5=[23e4898078453906b079a6bea7d1245c]
entity developer--><rect fill="#08427B" height="133.9531" style="stroke:#073B6F;stroke-width:1.5;" width="217" x="1437.5" y="345.6992"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="52" x="1520" y="367.3008">«person»</text><image height="48" width="48" x="1522" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=" y="369.832"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="82" x="1505" y="433.3008">Developer</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="0" x="1548" y="450.2109"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193" x="1451.5" y="466.6992">The developer of the system</text><!--MD5=[a29fe3b73bd7c5d5e80e6b5e6b2bebf6]
entity stripe--><rect fill="#B3B3B3" height="115.1094" style="stroke:#A6A6A6;stroke-width:1.5;" width="159" x="1303.5" y="718.1992"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="118" x="1324" y="739.8008">«external_container»</text><image height="48" width="48" x="1359" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACC0lEQVR4Xu2WrbLCMBBGef/XicHU1GAwNZiamhoMpgZ175l8w950KaRQbmGGfKKTZDebk23+NuHDtPEN71YByqkA5fTBQFVVHY/Hn3U1DMPhcEh4LkDQeN8V1XWdB6LJe60rMjICOp1O3mVd7ff7ERD/0rusqwKU0xcAsS3O57Nvna1XAnGcKkjf9942Ww8AMe/dbodP27beFgWHgiw56B8AwiSfW0AQ3+k+UzeBKJCP7XZLI18uGgOiynnKmd40DQVCyJMMVVFkSCbaKVgEGxV0GxifdBrTQHQQiqmuawOSyJN1luyXUXAmCTiNaveDxFi2D6aBLDQhKGtsA6JMethN1hlcEjAJRAScbXpDcqvjRi5lsvxlgBjJVuj1GrLOqk4CORNwxAyXlCN5UnUx/RpKs6plsQSIP6IqmXCLQaLRxfRAiIFTLP6RCk8ApZMxoHosF3MExNdWmbZJiNlW4fp/q3oHKF03OswsJU7TQAoNNWabkGUoxL0K3xwgclzHRWOeNjFMzBZPHSJ5oFTasZatMN72d4BSXY96x+TXEEGFT7bTq0CJwUTCaG+jZKKvqrZ3QrxGmij3FlW74vfJ3XcTaKFc8ubra4D6qCei/RfQ0ypAORWgnDzQkufwS6Sb7g8ofWiuL3ul/AGFtybJ0jMCCvEy50rqVhT3mnu4jYA+QQUopwKUUwHK6ReHlPp6/pZG7wAAAABJRU5ErkJggg==" y="742.332"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="47" x="1359.5" y="805.8008">Stripe</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="139" x="1313.5" y="820.7773">[Stripe payment system]</text><!--MD5=[f782dea1502cfc379c2e1ac0a88333d2]
entity mailjet--><rect fill="#B3B3B3" height="115.1094" style="stroke:#A6A6A6;stroke-width:1.5;" width="141" x="1328.5" y="995.6992"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="118" x="1340" y="1017.3008">«external_container»</text><image height="48" width="48" x="1375" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAABfElEQVR4Xu2YobKDMBBF+/+/E4PBYDAYDAaDwWAwGBTdeTuvc9kkbIBCEXtck01yJrlkCi/3MF6y4deYkIYJaZiQhhTKsmwYhuUWaCFaTgishKh7nmc57kpoOeG0Eur7Xo64HloUHVZCN28PQ4uiw0oI68qyvMiPpq2qClvQISrELV3XYeN56IA4NNiIDooQURTFOI7YdYxpmmiq7bVcihBT1zX27qVtWzEh9mJ7VOiztx/o54HHkC6bPM/FPCIJ2BsVYmhjsIBIDzuHVwynFn84FihCBAUIz55Rw+5vMO1TLItYpgsxZICVLh52EV6GMiTrAKxMFVoiRyDC7oc35YixfocQEzyL4Q8/vIkPAY7aLcQ0TYMDfXZdEzjwoNASyYqLZ2sDHH5ciBEnqD59QUDhtNDyH/bgBZMIOnxB6DzoYEIh0MGEQqCDCYVABxMKgQ7PFjp8959h60Ux8e/Ld9l6lX7cxwZ37+cY/8+n84V+jglpmJCGCWk8TugNA8TXkUaepfgAAAAASUVORK5CYII=" y="1019.832"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="56" x="1371" y="1083.3008">MailJet</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="121" x="1338.5" y="1098.2773">[Send emails to user]</text><!--MD5=[a6ba03f5e65a0bf6ba9f545342501b57]
link ml_background to ml_redis--><path d="M348.03,835.4392 C334.01,865.2492 322.99,902.2592 331,936.1992 C332.73,943.5192 334.99,950.9092 337.63,958.2192 " fill="none" id="ml_background-to-ml_redis" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="340.62,966.1092,340.5789,957.5653,334.9711,959.6991,340.62,966.1092" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="128" x="332" y="925.8008">Listens to the queue</text><!--MD5=[4286f0602c1c2f59f2384352654d18eb]
link ml_api to ml_mongo--><path d="M170.6,825.9492 C167.77,867.0692 163.67,926.4192 160.39,974.0192 " fill="none" id="ml_api-to-ml_mongo" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="159.83,982.1492,163.3805,974.3779,157.3951,973.9595,159.83,982.1492" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="119" x="166" y="925.8008">Get additional data</text><!--MD5=[1b9dbcfdb69d97b7ce5f2d963fc4ed75]
link api to db--><path d="M646.64,825.9492 C642.4,864.8592 636.38,920.1092 631.36,966.2692 " fill="none" id="api-to-db" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="630.46,974.4792,634.301,966.8473,628.3356,966.2035,630.46,974.4792" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="107" x="638" y="925.8008">Read / write data</text><!--MD5=[e9c20127f585181a79dab89266001537]
link api to es--><path d="M674.25,825.8592 C687.6,850.5592 706.74,879.1892 731,898.1992 C739.52,904.8692 745.16,899.9592 754,906.1992 C782.86,926.5892 808.32,956.0092 828.06,983.1092 " fill="none" id="api-to-es" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="832.95,989.9392,830.7293,981.6889,825.852,985.1834,832.95,989.9392" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="149" x="790" y="925.8008">Read / write documents</text><!--MD5=[3b9a8d504cf37c9e14449dead123e21d]
link api to background--><path d="M670.64,825.8492 C683.39,852.1792 703.09,882.3792 731,898.1992 C751.99,910.0992 925.57,897.2992 948,906.1992 C995.85,925.1792 1039.27,964.1492 1069.83,997.0592 " fill="none" id="api-to-background" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1075.39,1003.1192,1072.2018,995.1924,1067.7757,999.2433,1075.39,1003.1192" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="112" x="1001" y="925.8008">Delay async tasks</text><!--MD5=[3f83230c4e740b7034cdcba48b538344]
link background to redis--><path d="M1109.5,1103.2892 C1106.1,1133.6292 1101.63,1173.5792 1097.57,1209.8492 " fill="none" id="background-to-redis" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1096.65,1218.0092,1100.5166,1210.3902,1094.5534,1209.7264,1096.65,1218.0092" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="128" x="1102" y="1184.8008">Listens to the queue</text><!--MD5=[44e5c952b73b9c4d131ba4175e513f16]
link web to api--><path d="M563.87,495.6192 C585.28,563.4092 615.13,657.9592 634.01,717.7392 " fill="none" id="web-to-api" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="636.49,725.5792,636.9363,717.0469,631.216,718.8573,636.49,725.5792" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="105" x="583" y="544.8008">Requests the API</text><!--MD5=[bc24ce66b64ac0a861dec87049ae38d1]
link web to ml_api--><path d="M451.69,447.2592 C396.14,472.3792 325.51,511.3292 277,563.1992 C235.6,607.4692 207.58,671.4992 191.35,717.4892 " fill="none" id="web-to-ml_api" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="188.65,725.2892,194.1006,718.7096,188.4303,716.748,188.65,725.2892" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="102" x="314" y="544.8008">Get suggestions</text><!--MD5=[b520792b7faf8c6d782982cde32ec751]
link ml_background to db--><path d="M428.61,835.3192 C452.42,865.9292 482.59,903.6692 511,936.1992 C520.28,946.8292 530.23,957.7892 540.23,968.5392 " fill="none" id="ml_background-to-db" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="545.78,974.4792,542.5112,966.5852,538.1266,970.6811,545.78,974.4792" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="111" x="512" y="918.8008">Fetch / Sync main</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="74" x="532.5" y="932.9336">information</text><!--MD5=[b40267574027cc07176494ec281baea8]
link user to web--><path d="M538,162.3392 C538,208.6492 538,271.0792 538,321.8792 " fill="none" id="user-to-web" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="538,329.9292,541,321.9292,535,321.9292,538,329.9292" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="81" x="539" y="204.8008">Uses the app</text><!--MD5=[c0a8e93783a5887840debf33348bd8e2]
link admin to admin_site--><path d="M1249.3,486.1892 C1243.98,489.5292 1238.53,492.5792 1233,495.1992 C1159.7,529.9192 1105.42,463.3192 1053,525.1992 C1010.57,575.2892 1019.07,653.5092 1033.08,708.9992 " fill="none" id="admin-to-admin_site" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1035.18,717.0192,1036.0545,708.5201,1030.2504,710.0407,1035.18,717.0192" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="124" x="1054" y="544.8008">Uses the admin site</text><!--MD5=[b309fa07a857d677569d7dfa1f5d4d29]
link developer to api_boundary--><path d="M1444.94,479.9092 C1436.54,485.1492 1428.15,490.3092 1420,495.1992 C1372.92,523.4592 1362.52,533.6792 1312,555.1992 C1300.88,559.9392 1295.03,555.1592 1286,563.1992 C1248.255,596.8092 1225.135,648.5692 1211.3875,692.4717 C1207.9506,703.4473 1205.0995,713.9319 1202.7521,723.5189 C1202.1653,725.9157 1201.6099,728.2564 1201.0848,730.5346 " fill="none" id="developer-to-api_boundary" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1201.0848,730.5346,1205.8051,723.4129,1199.9584,722.0652,1201.0848,730.5346" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="145" x="1371" y="537.8008">Full access to API while</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="81" x="1405" y="551.9336">development</text><!--MD5=[eebddc328c59e5f8a1073deeb50a7d5f]
link api to stripe--><path d="M657.57,725.6592 C665.52,680.6592 684.73,617.0392 731,586.1992 C819.39,527.2892 1111.75,543.4692 1209,586.1992 C1266.95,611.6592 1314.07,667.0092 1344.58,711.3492 " fill="none" id="api-to-stripe" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1349.15,718.0892,1347.1509,709.7824,1342.1818,713.1451,1349.15,718.0892" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="115" x="1187.5" y="544.8008">Subscribe to plans</text><!--MD5=[5a1f05dce94c07ee35496b1796ad2e77]
link background to mailjet--><path d="M1217.13,1053.1992 C1251,1053.1992 1288.16,1053.1992 1320.01,1053.1992 " fill="none" id="background-to-mailjet" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1328.42,1053.1992,1320.42,1050.1992,1320.42,1056.1992,1328.42,1053.1992" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="75" x="1235.25" y="1046.8008">Send emails</text><!--MD5=[7380ea43266614ebff71ec3fdcea2a96]
@startuml containers

!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

!define DEVICONS https://raw.githubusercontent.com/tupadr3/plantuml-icon-font-sprites/master/devicons
!define FONTAWESOME https://raw.githubusercontent.com/tupadr3/plantuml-icon-font-sprites/master/font-awesome-5
!define MATERIAL https://raw.githubusercontent.com/tupadr3/plantuml-icon-font-sprites/master/material

!include DEVICONS/react.puml
!include DEVICONS/redis.puml
!include DEVICONS/postgresql.puml
!include FONTAWESOME/cc_stripe.puml
!include MATERIAL/email.puml
!include MATERIAL/book.puml

title "SmartCode Containers"

Person(user, "User", "The user of SmartCode")
Person(admin, "Admin", "The admin user of SmartCode")
Person(developer, "Developer", "The developer of the system")

System_Boundary(boundary, "SmartCode System"){
    Container(web, "Web Client App", "ReactJS", "The FE application of SmartCode", $sprite="react")

    Container_Boundary(api_boundary, "API"){
        Container(api, "API", "Django / NodeJS", "The REST API")
        Container(docs, "API docs", "OpenAPI", "Swagger / Redoc documentation to API", $sprite="book")
        Container(admin_site, "Admin Site", "Django Admin / NodeJS Admin", "Admin Site of the application")
    }

    Container_Boundary(ml, "ML Boundary"){
        Container(ml_api, "ML API", "FastAPI / NodeJS", "API to ML Service")
        Container(ml_background, "ML Background Processor", "Celery / NodeJS", "Background processor")

        ContainerDb(ml_redis, "Redis", "Redis", "Key-value DB for background processing", $sprite="redis")
        ContainerDb(ml_mongo, "MongoDB", "MongoDB", "Document-value DB for any information needed to ML service")

        Rel(ml_background, ml_redis, "Listens to the queue")
        Rel(ml_api, ml_mongo, "Get additional data")
    }

    Container(background, "Background Processor", "Celery / NodeJS", "Background processor")

    ContainerDb(db, "Rel. Database", "PostgreSQL", "Relational database storage", $sprite="postgresql")
    ContainerDb(redis, "Redis", "Redis", "Key-value DB for background processing", $sprite="redis")
    ContainerDb(es, "ElasticSearch", "ElasticSearch", "Document-based database with search engine")

    Rel(api, db, "Read / write data")
    Rel(api, es, "Read / write documents")
    Rel(api, background, "Delay async tasks")

    Rel(background, redis, "Listens to the queue")

    Rel(web, api, "Requests the API")
    Rel(web, ml_api, "Get suggestions")

    Rel(ml_background, db, "Fetch / Sync main information")
}

Container_Ext(stripe, "Stripe", "Stripe payment system", $sprite="cc_stripe")
Container_Ext(mailjet, "MailJet", "Send emails to user", $sprite="email")

Rel_D(user, web, "Uses the app")
Rel_D(admin, admin_site, "Uses the admin site")

Rel(developer, api_boundary, "Full access to API while development")

Rel_R(api, stripe, "Subscribe to plans")
Rel_R(background, mailjet, "Send emails")

@enduml

@startuml containers










skinparam defaultTextAlignment center

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam LegendBorderColor transparent
skinparam LegendBackgroundColor transparent
skinparam LegendFontColor #FFFFFF

skinparam rectangle {
    StereotypeFontSize 12
    shadowing false
}

skinparam database {
    StereotypeFontSize 12
    shadowing false
}

skinparam queue {
    StereotypeFontSize 12
    shadowing false
}

skinparam Arrow {
    Color #666666
    FontColor #666666
    FontSize 12
}

skinparam package {
    StereotypeFontSize 6
    StereotypeFontColor #FFFFFF
    FontStyle plain
    BackgroundColor #FFFFFF
}

skinparam rectangle<<boundary>> {
    Shadowing false
    StereotypeFontSize 6
    StereotypeFontColor #FFFFFF
    FontColor #444444
    BorderColor #444444
    BackgroundColor #FFFFFF
    BorderStyle dashed
}



































































skinparam rectangle<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam database<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam queue<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}

skinparam rectangle<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam database<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam queue<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}

skinparam rectangle<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}
skinparam database<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}
skinparam queue<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}

skinparam rectangle<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}
skinparam database<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}
skinparam queue<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}




sprite $person [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
0000000000000000000049BCCA7200000000000000000000
0000000000000000006EFFFFFFFFB3000000000000000000
00000000000000001CFFFFFFFFFFFF700000000000000000
0000000000000001EFFFFFFFFFFFFFF80000000000000000
000000000000000CFFFFFFFFFFFFFFFF6000000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
00000000000001FFFFFFFFFFFFFFFFFFF900000000000000
00000000000006FFFFFFFFFFFFFFFFFFFF00000000000000
0000000000000BFFFFFFFFFFFFFFFFFFFF40000000000000
0000000000000EFFFFFFFFFFFFFFFFFFFF70000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000DFFFFFFFFFFFFFFFFFFFF60000000000000
0000000000000AFFFFFFFFFFFFFFFFFFFF40000000000000
00000000000006FFFFFFFFFFFFFFFFFFFE00000000000000
00000000000000EFFFFFFFFFFFFFFFFFF800000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
000000000000000BFFFFFFFFFFFFFFFF5000000000000000
0000000000000001DFFFFFFFFFFFFFF70000000000000000
00000000000000000BFFFFFFFFFFFF500000000000000000
0000000000000000005DFFFFFFFFA1000000000000000000
0000000000000000000037ABB96100000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000025788300000000005886410000000000000
000000000007DFFFFFFD9643347BFFFFFFFB400000000000
0000000004EFFFFFFFFFFFFFFFFFFFFFFFFFFB1000000000
000000007FFFFFFFFFFFFFFFFFFFFFFFFFFFFFD200000000
00000006FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE10000000
0000003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB0000000
000000BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5000000
000003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD000000
000009FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF200000
00000DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF600000
00000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF800000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA00000
00000EFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF700000
000006FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE100000
0000008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD3000000
000000014555555555555555555555555555555300000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}

sprite $person2 [48x48/16] {
0000000000000000000049BCCA7200000000000000000000
0000000000000000006EFFFFFFFFB3000000000000000000
00000000000000001CFFFFFFFFFFFF700000000000000000
0000000000000001EFFFFFFFFFFFFFF80000000000000000
000000000000000CFFFFFFFFFFFFFFFF6000000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
00000000000001FFFFFFFFFFFFFFFFFFF900000000000000
00000000000006FFFFFFFFFFFFFFFFFFFF00000000000000
0000000000000BFFFFFFFFFFFFFFFFFFFF40000000000000
0000000000000EFFFFFFFFFFFFFFFFFFFF70000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000DFFFFFFFFFFFFFFFFFFFF60000000000000
0000000000000AFFFFFFFFFFFFFFFFFFFF40000000000000
00000000000006FFFFFFFFFFFFFFFFFFFE00000000000000
00000000000000EFFFFFFFFFFFFFFFFFF800000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
000000000000000BFFFFFFFFFFFFFFFF5000000000000000
0000000000000001DFFFFFFFFFFFFFF70000000000000000
00000000000000000BFFFFFFFFFFFF500000000000000000
0000000000000000005DFFFFFFFFA1000000000000000000
0000000000000000000037ABB96100000000000000000000
000000000002578888300000000005888864100000000000
0000000007DFFFFFFFFD9643347BFFFFFFFFFB4000000000
00000004EFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB10000000
0000007FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD2000000
000006FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE100000
00003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
0000BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF50000
0003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD0000
0009FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF2000
000DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF6000
000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB000
001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB000
001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB000
001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA000
000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
000DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF6000
0009FFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFFF2000
0003FFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFFD0000
0000BFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFF50000
00003FFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFB00000
000006FFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFE100000
0000007FFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFD2000000
00000004EFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFB10000000
0000000007DF8FFFFFFFFFFFFFFFFFFFFFF8FB4000000000
000000000002578888888888888888888864100000000000
}
























skinparam rectangle<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}
skinparam database<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}
skinparam queue<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}

skinparam rectangle<<external_container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}
skinparam database<<external_container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}
skinparam queue<<external_container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}
















sprite $react [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000686300000000003686000000000000000
00000000000002EFFFFC30000003CFFFFD10000000000000
0000000000000CF7249FF800009FF9427FB0000000000000
0000000000002FB00001CFB01CFC20000AF1000000000000
0000000000005F60000008FDDF90000005F4000000000000
0000000000006F400000008FF800000004F6000000000000
0000000000006F40000000CFFC00000003F6000000000000
0000000000005F5000000AF99FB0000005F5000000000000
0000000000003F7000007FB00BF7000007F3000000000000
0000000000000FA00246FFA99AFF73100AF1000000000000
0000000000000EFCFFFFFFFFFFFFFFFECEE0000000000000
00000000004BFFFFC9DF82211228FD9BEFFE920000000000
000000004CFFC9F802FD00000000DF307F9CFFB300000000
00000008FF9200ED0BF3001441003FC0DE0029FF70000000
0000009FC200009F8FA004EFFE400AF8F900002CF8000000
000003FC0000002FFF201EFFFFE102FFF2000001CF200000
000008F40000000BF9004FFFFFF4009FB00000004F700000
000008F40000000CF9004FFFFFF4009FC00000004F800000
000003FC0000003FFF200EFFFFE002FFF2000000CF300000
0000008FD300009F8FA004EFFE400AF7F900002CF9000000
00000007FFA300EE0BF4000440004FB0DE002AFF80000000
000000003BFFDAF802FD00000000DF207FACFFC400000000
000000000029EFFFC9DF83222238FDACFFFFB40000000000
0000000000000EEBEFFFFFFFFFFFFFFFCEE0000000000000
0000000000001FA00036FF9889FF63100AF0000000000000
0000000000004F7000006FB00BF6000007F3000000000000
0000000000005F5000000AF99FA0000005F5000000000000
0000000000006F40000000CFFC00000004F6000000000000
0000000000006F400000008FF800000004F6000000000000
0000000000004F60000009FDDF90000006F4000000000000
0000000000001FB00002CFB01BFC20000BF2000000000000
0000000000000BF724AFF800008FF9427FC0000000000000
00000000000001DFFFFB30000003CFFFFE20000000000000
000000000000000465200000000003686000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}


skinparam folderBackgroundColor<<DEV REACT>> White
sprite $redis [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000044023000000000000000000000
00000000000000000000006FFF4000000000000000000000
0000000000000000000007BDFFD600000000000000000000
000000000000001476620000C300017C9200000000000000
00000000000005FFFFFFD1002004AFFFFFC6000000000000
00000002000008FFFFFFF2000005CFFFFE81000650000000
00000006E7100027999510000020028A400006DF50000000
00000006FFF920000001479CEF6000000018EFFF50000000
00000005FFFFFC5000005CFFFB0000003AFFFFFE20000000
000000005DFFFFFE71000029D100005CFFFFFE7000000000
00000000004BFFFFFFA3000000007EFFFFFC500010000000
00000004500028EFFFFFC600029FFFFFFA30004C50000000
00000006FD600006CFFFFFFCDFFFFFE810005CFF60000000
00000006FFFF920003AFFFFFFFFFD600018EFFFF50000000
00000003EFFFFFB400018EFFFFB400029FFFFFE800000000
0000000007DFFFFFE7100048720004BFFFFFD60000000000
000000021004BFFFFFF930000006DFFFFFC5000650000000
00000006E710029FFFFFFC6238EFFFFFA30006DF50000000
00000005FFF920006DFFFFFFFFFFFF810018FFFF60000000
00000004FFFFFC50003AFFFFFFFD70003AFFFFFE20000000
000000006DFFFFFE710018DFFB50005CFFFFFE7000000000
00000000005BFFFFFFA3000210007EFFFFFC500000000000
00000000000029FFFFFFC600029FFFFFFA30000000000000
0000000000000006DFFFFFFCDFFFFFF81000000000000000
000000000000000003AFFFFFFFFFD7100000000000000000
000000000000000000018EFFFFC500000000000000000000
000000000000000000000058720000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}


skinparam folderBackgroundColor<<DEV REDIS>> White
sprite $postgresql [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000014666410000000000000
000000000005BEEFDB7306CFFFEDFC999BFB400000000000
0000000001CB5201258DFB400026BE500005DA0000000000
000000000D700000000D7000000004D800000AC000000000
000000006A000000009900000000001C9000009900000000
00000000D300000001E0000000000000C600001F00000000
00000001F000000007800000000000002E20000E10000000
00000003C00000000B300000000000000790000F00000000
00000003C00000000F0000000000000013F1001F00000000
00000003C00000001E5BFE800000003DEDF3003C00000000
00000001E00000002FC447C6000000D792C2007900000000
00000000E10000002C004B6A000000F040E100B500000000
00000000B40000002C00002D000000F000F000F000000000
00000000870000002C00000F000000B500F005B000000000
000000004B0000003C00000F0000006A00F00B5000000000
000000000F0000004B00001F0000000E20E22E0000000000
000000000B4000005B00004C00000007A0D2A70000000000
00000000079000003D00009700000000E3E4E00000000000
0000000002E000000D3000E1000000006DDB700000000000
0000000000C3000004E305A0000000000CCD000000000000
00000000006A000000DFCDA10000000005F7013400000000
00000000000E20000AA05FCE200000003E9DFFEF20000000
000000000006A0008C14BA0970000000880015D800000000
000000000000C707D8FC603E700000009FDEFA3000000000
0000000000001CFC1AD87AEC70000000B511000000000000
00000000000000000048861880000000D200000000000000
00000000000000000000000880000000F000000000000000
00000000000000000000000880000001E000000000000000
00000000000000000000000780000003C000000000000000
00000000000000000000000690000005A000000000000000
000000000000000000000004B00000097000000000000000
000000000000000000000001E000000E2000000000000000
000000000000000000000000A90003B90000000000000000
0000000000000000000000000BEBDE700000000000000000
000000000000000000000000002420000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}


skinparam folderBackgroundColor<<DEV POSTGRESQL>> White
sprite $cc_stripe [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
0002BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD70000
002FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF9000
009FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF200
00CFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF500
00DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF500
00DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF500
00DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF500
00DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF500
00DFFFFFFFFFFFFFFFFFFFFFCEFFFFFFFFFFFFFFFFFFF500
00DFFFFFFFFFFFFFFFFFFFB00AFFFFFFFFFFFFFFFFFFF500
00DFFFFFFFFE408FFFFFFFA00BFFFFFFFFFFFFFFFFFFF500
00DFFFFFFFFD008FFFFFFFEDFFFFFFFFFFFFFFFFFFFFF500
00DFFD41017D0012962541A22B6246017FFFE5004DFFF500
00DFE100003D0000850000A00A50000006FF200001EFF500
00DFA006A85D0059C50037A00A50069100D700AB107FF500
00DFA003BFFD008FF500FFA00A500FFA009303DD503FF500
00DFF20002BD008FF500FFA00A500FFE00710000001FF500
00DFFF82000C008FF500FFA00A500FFD00810033333FF500
00DFDEFF6009007FF500FFA00A500FF700A401FFFFFFF500
00DFA035100C00049500FFA00A50023000F90026529FF500
00DFA000006F60008500FFA00A50000009FF5000009FF500
00DFFA657BFFF956CB88FFD88D500B66CFFFFB657AFFF500
00DFFFFFFFFFFFFFFFFFFFFFFF500FFFFFFFFFFFFFFFF500
00DFFFFFFFFFFFFFFFFFFFFFFF500FFFFFFFFFFFFFFFF500
00DFFFFFFFFFFFFFFFFFFFFFFFAADFFFFFFFFFFFFFFFF500
00DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF500
00DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF500
00DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF500
00DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF500
00DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF500
00BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF400
007FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE000
000BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF4000
000048999999999999999999999999999999999999610000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}


skinparam folderBackgroundColor<<FA5 CC_STRIPE>> White
sprite $email [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000001BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB100000
00001EFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE10000
0000AFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA0000
0000EFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE0000
0000FFFF4EFFFFFFFFFFFFFFFFFFFFFFFFFFFFE5FFFF0000
0000FFFF009FFFFFFFFFFFFFFFFFFFFFFFFFFA10FFFF0000
0000FFFF0003CFFFFFFFFFFFFFFFFFFFFFFD3000FFFF0000
0000FFFF000006FFFFFFFFFFFFFFFFFFFF800000FFFF0000
0000FFFFA100001AFFFFFFFFFFFFFFFFB2000019FFFF0000
0000FFFFFF6000004EFFFFFFFFFFFFE5000005EFFFFF0000
0000FFFFFFFC3000009FFFFFFFFFFA100002CFFFFFFF0000
0000FFFFFFFFF9000003CFFFFFFD3000008FFFFFFFFF0000
0000FFFFFFFFFFE5000006FFFF8000004EFFFFFFFFFF0000
0000FFFFFFFFFFFFA100002BB200001AFFFFFFFFFFFF0000
0000FFFFFFFFFFFFFF700000000006FFFFFFFFFFFFFF0000
0000FFFFFFFFFFFFFFFD30000003CFFFFFFFFFFFFFFF0000
0000FFFFFFFFFFFFFFFFFA10009FFFFFFFFFFFFFFFFF0000
0000FFFFFFFFFFFFFFFFFFE55EFFFFFFFFFFFFFFFFFF0000
0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0000
0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0000
0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0000
0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0000
0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0000
0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0000
0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0000
0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0000
0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0000
0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0000
0000EFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE0000
0000AFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA0000
00001EFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE10000
000001BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA100000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}


skinparam folderBackgroundColor<<https://raw.githubusercontent.com/tupadr3/plantuml-icon-font-sprites/master/material EMAIL>> White
sprite $book [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
0000000001AEFFFFFFFFFFFFFFFFFFFFFFFFEA1000000000
000000001EFFFFFFFFFFFFFFFFFFFFFFFFFFFFE100000000
00000000BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000000
00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000
00000000FFFF0000000000FFFFFFFFFFFFFFFFFF00000000
00000000FFFF0000000000FFFFFFFFFFFFFFFFFF00000000
00000000FFFF0000000000FFFFFFFFFFFFFFFFFF00000000
00000000FFFF0000000000FFFFFFFFFFFFFFFFFF00000000
00000000FFFF0000000000FFFFFFFFFFFFFFFFFF00000000
00000000FFFF0000000000FFFFFFFFFFFFFFFFFF00000000
00000000FFFF0000000000FFFFFFFFFFFFFFFFFF00000000
00000000FFFF0000000000FFFFFFFFFFFFFFFFFF00000000
00000000FFFF0000000000FFFFFFFFFFFFFFFFFF00000000
00000000FFFF0000000000FFFFFFFFFFFFFFFFFF00000000
00000000FFFF0000000000FFFFFFFFFFFFFFFFFF00000000
00000000FFFF0000000000FFFFFFFFFFFFFFFFFF00000000
00000000FFFF0000000000FFFFFFFFFFFFFFFFFF00000000
00000000FFFF0002BB2000FFFFFFFFFFFFFFFFFF00000000
00000000FFFF008FFFF800FFFFFFFFFFFFFFFFFF00000000
00000000FFFF4DFFFFFFD5FFFFFFFFFFFFFFFFFF00000000
00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000
00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000
00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000
00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000
00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000
00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000
00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000
00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000
00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000
00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000
00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000
00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000
00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000
00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000
00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000
00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000
00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000
00000000BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000000
000000001EFFFFFFFFFFFFFFFFFFFFFFFFFFFFE100000000
0000000001AEFFFFFFFFFFFFFFFFFFFFFFFFEA1000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}


skinparam folderBackgroundColor<<https://raw.githubusercontent.com/tupadr3/plantuml-icon-font-sprites/master/material BOOK>> White

title "SmartCode Containers"

rectangle "<$person>\n==User\n\n The user of SmartCode" <<person>> as user 
rectangle "<$person>\n==Admin\n\n The admin user of SmartCode" <<person>> as admin 
rectangle "<$person>\n==Developer\n\n The developer of the system" <<person>> as developer 

rectangle "==SmartCode System\n<size:12>[System]</size>" <<boundary>> as boundary {
    rectangle "<$react>\n==Web Client App\n//<size:12>[ReactJS]</size>//\n\n The FE application of SmartCode" <<container>> as web 

rectangle "==API\n<size:12>[Container]</size>" <<boundary>> as api_boundary {
        rectangle "==API\n//<size:12>[Django / NodeJS]</size>//\n\n The REST API" <<container>> as api 
        rectangle "<$book>\n==API docs\n//<size:12>[OpenAPI]</size>//\n\n Swagger / Redoc documentation to API" <<container>> as docs 
        rectangle "==Admin Site\n//<size:12>[Django Admin / NodeJS Admin]</size>//\n\n Admin Site of the application" <<container>> as admin_site 
    }

rectangle "==ML Boundary\n<size:12>[Container]</size>" <<boundary>> as ml {
        rectangle "==ML API\n//<size:12>[FastAPI / NodeJS]</size>//\n\n API to ML Service" <<container>> as ml_api 
        rectangle "==ML Background Processor\n//<size:12>[Celery / NodeJS]</size>//\n\n Background processor" <<container>> as ml_background 

        database "<$redis>\n==Redis\n//<size:12>[Redis]</size>//\n\n Key-value DB for background processing" <<container>> as ml_redis 
        database "==MongoDB\n//<size:12>[MongoDB]</size>//\n\n Document-value DB for any information needed to ML service" <<container>> as ml_mongo 

        ml_background - ->> ml_redis : **Listens to the queue**
        ml_api - ->> ml_mongo : **Get additional data**
    }

    rectangle "==Background Processor\n//<size:12>[Celery / NodeJS]</size>//\n\n Background processor" <<container>> as background 

    database "<$postgresql>\n==Rel. Database\n//<size:12>[PostgreSQL]</size>//\n\n Relational database storage" <<container>> as db 
    database "<$redis>\n==Redis\n//<size:12>[Redis]</size>//\n\n Key-value DB for background processing" <<container>> as redis 
    database "==ElasticSearch\n//<size:12>[ElasticSearch]</size>//\n\n Document-based database with search engine" <<container>> as es 

    api - ->> db : **Read / write data**
    api - ->> es : **Read / write documents**
    api - ->> background : **Delay async tasks**

    background - ->> redis : **Listens to the queue**

    web - ->> api : **Requests the API**
    web - ->> ml_api : **Get suggestions**

    ml_background - ->> db : **Fetch / Sync main information**
}

rectangle "<$cc_stripe>\n==Stripe\n//<size:12>[Stripe payment system]</size>//" <<external_container>> as stripe 
rectangle "<$email>\n==MailJet\n//<size:12>[Send emails to user]</size>//" <<external_container>> as mailjet 

user -DOWN->> web : **Uses the app**
admin -DOWN->> admin_site : **Uses the admin site**

developer - ->> api_boundary : **Full access to API while development**

api -RIGHT->> stripe : **Subscribe to plans**
background -RIGHT->> mailjet : **Send emails**

@enduml

PlantUML version 1.2021.7(Sun May 23 15:40:07 EEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>